/*C2*/SET SCHEMA PUBLIC
alter table accesories drop constraint FK_cmqtddgjhxt53almlttr1hl9g
alter table customer drop constraint FK_i0stw68u1778vsgy4idl3m183
alter table possible_failures drop constraint FK_co5f3jpky9dyqtn10g9rcx9ld
alter table possible_failures drop constraint FK_hlyral9vgvysruujm51f2p599
alter table product drop constraint FK_iq2474o7xqnh3jd3ydarnda1y
alter table product_sub_family drop constraint FK_9ux2fvtgqmpg3653m87gq69la
alter table service_diagnosys drop constraint FK_39jc03rehwgbga4bh2w8sag29
alter table service_diagnosys_diagnoses drop constraint FK_coatedsstcaltqjpjhtusl08f
alter table service_diagnosys_diagnoses drop constraint FK_orx3qh3ni2n3sv3103xdjecf3
alter table service_diagnosys_items drop constraint FK_h05t0dbdg4spg8p2qxosbdelo
alter table service_diagnosys_items drop constraint FK_j2ilh4g3y0n2we4wn733m8915
alter table service_diagnosys_services drop constraint FK_9vjeq5w13fcx4tumfpe5xa3go
alter table service_diagnosys_services drop constraint FK_2exx18kjkuj71a7n27d0uqgtn
alter table service_order drop constraint FK_fgmvtn8tyhnfeialwyqb56k4r
alter table service_order drop constraint FK_6dxthqcvqgtvdb4vjogrq5v49
alter table service_order drop constraint FK_7k1aaqxqqq1d9b5us818lopma
alter table service_order drop constraint FK_cfbgopme49suwpd927r64gs04
alter table service_order drop constraint FK_cjdsxdqd3xpfkx7nmjay88vbk
alter table service_order drop constraint FK_thr25tusy9uxqmvjrmbq4nsyt
alter table service_order_accesories drop constraint FK_b0bwn4i7xp11xu5viuwrjauhh
alter table service_order_accesories drop constraint FK_69wtyn8j0tkf3cv70qfw6pi1m
alter table service_order_cosmetic_state drop constraint FK_rfhao2by42sjy7bocn4kq60qu
alter table service_order_cosmetic_state drop constraint FK_exfcy2tpm7jsnyyn3otidvfo
alter table service_order_failures drop constraint FK_ghlogr1i5n7j5v7mes9x3l9sv
alter table service_order_failures drop constraint FK_17lxsxtkjhfl2vjg92vt5yfia
drop table accer if exists
drop table accesories if exists
drop table contract if exists
drop table customer if exists
drop table customer_address if exists
drop table diagnosis_items if exists
drop table diagnosis_type if exists
drop table diagnosys_services if exists
drop table failures if exists
drop table possible_failures if exists
drop table possible_failures_type if exists
drop table product if exists
drop table product_brand if exists
drop table product_color if exists
drop table product_cosmetic_state if exists
drop table product_family if exists
drop table product_sub_family if exists
drop table service_diagnosys if exists
drop table service_diagnosys_diagnoses if exists
drop table service_diagnosys_items if exists
drop table service_diagnosys_services if exists
drop table service_order if exists
drop table service_order_accesories if exists
drop table service_order_cosmetic_state if exists
drop table service_order_failures if exists
create table accer (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table accesories (id bigint generated by default as identity (start with 1), name varchar(255), version integer, subfamily bigint, primary key (id))
create table contract (id bigint generated by default as identity (start with 1), serial_number varchar(255), version integer, primary key (id))
create table customer (id bigint generated by default as identity (start with 1), email varchar(255), name varchar(255), phone varchar(255), version integer, address bigint, primary key (id))
create table customer_address (id bigint generated by default as identity (start with 1), address_references varchar(255), colony varchar(255), country_state varchar(255), delegacion varchar(255), ext_number varchar(255), int_number varchar(255), street varchar(255), version integer, zip_code varchar(255), primary key (id))
create table diagnosis_items (id bigint generated by default as identity (start with 1), description varchar(255), version integer, primary key (id))
create table diagnosis_type (id bigint generated by default as identity (start with 1), description varchar(255), version integer, primary key (id))
create table diagnosys_services (id bigint generated by default as identity (start with 1), description varchar(255), version integer, primary key (id))
create table failures (id bigint generated by default as identity (start with 1), version integer, primary key (id))
create table possible_failures (id bigint generated by default as identity (start with 1), description varchar(255), version integer, failure_type bigint, subfamily bigint, primary key (id))
create table possible_failures_type (id bigint generated by default as identity (start with 1), description varchar(255), version integer, primary key (id))
create table product (id bigint generated by default as identity (start with 1), name varchar(255), version integer, brand bigint, primary key (id))
create table product_brand (id bigint generated by default as identity (start with 1), name varchar(255), version integer, primary key (id))
create table product_color (id bigint generated by default as identity (start with 1), color varchar(255), version integer, primary key (id))
create table product_cosmetic_state (id bigint generated by default as identity (start with 1), description varchar(255), version integer, primary key (id))
create table product_family (id bigint generated by default as identity (start with 1), name varchar(255), version integer, primary key (id))
create table product_sub_family (id bigint generated by default as identity (start with 1), name varchar(255), version integer, family bigint, primary key (id))
create table service_diagnosys (id bigint generated by default as identity (start with 1), irreparable_pdf blob(255), photos blob(255), version integer, service_order bigint, primary key (id))
create table service_diagnosys_diagnoses (service_diagnosys bigint not null, diagnoses bigint not null, primary key (service_diagnosys, diagnoses))
create table service_diagnosys_items (service_diagnosys bigint not null, items bigint not null, primary key (service_diagnosys, items))
create table service_diagnosys_services (service_diagnosys bigint not null, services bigint not null, primary key (service_diagnosys, services))
create table service_order (id bigint generated by default as identity (start with 1), front_desk_ticket varchar(255), home_or_in_store_delivery boolean, observations varchar(255), serial_number varchar(255), version integer, address bigint, brand bigint, color bigint, customer bigint, family bigint, subfamily bigint, primary key (id))
create table service_order_accesories (service_order bigint not null, accesories bigint not null, primary key (service_order, accesories))
create table service_order_cosmetic_state (service_order bigint not null, cosmetic_state bigint not null, primary key (service_order, cosmetic_state))
create table service_order_failures (service_order bigint not null, failures bigint not null, primary key (service_order, failures))
alter table accesories add constraint FK_cmqtddgjhxt53almlttr1hl9g foreign key (subfamily) references product_sub_family
alter table customer add constraint FK_i0stw68u1778vsgy4idl3m183 foreign key (address) references customer_address
alter table possible_failures add constraint FK_co5f3jpky9dyqtn10g9rcx9ld foreign key (failure_type) references possible_failures_type
alter table possible_failures add constraint FK_hlyral9vgvysruujm51f2p599 foreign key (subfamily) references product_sub_family
alter table product add constraint FK_iq2474o7xqnh3jd3ydarnda1y foreign key (brand) references product_brand
alter table product_sub_family add constraint FK_9ux2fvtgqmpg3653m87gq69la foreign key (family) references product_family
alter table service_diagnosys add constraint FK_39jc03rehwgbga4bh2w8sag29 foreign key (service_order) references service_order
alter table service_diagnosys_diagnoses add constraint FK_coatedsstcaltqjpjhtusl08f foreign key (diagnoses) references diagnosis_type
alter table service_diagnosys_diagnoses add constraint FK_orx3qh3ni2n3sv3103xdjecf3 foreign key (service_diagnosys) references service_diagnosys
alter table service_diagnosys_items add constraint FK_h05t0dbdg4spg8p2qxosbdelo foreign key (items) references diagnosis_items
alter table service_diagnosys_items add constraint FK_j2ilh4g3y0n2we4wn733m8915 foreign key (service_diagnosys) references service_diagnosys
alter table service_diagnosys_services add constraint FK_9vjeq5w13fcx4tumfpe5xa3go foreign key (services) references diagnosys_services
alter table service_diagnosys_services add constraint FK_2exx18kjkuj71a7n27d0uqgtn foreign key (service_diagnosys) references service_diagnosys
alter table service_order add constraint FK_fgmvtn8tyhnfeialwyqb56k4r foreign key (address) references customer_address
alter table service_order add constraint FK_6dxthqcvqgtvdb4vjogrq5v49 foreign key (brand) references product_brand
alter table service_order add constraint FK_7k1aaqxqqq1d9b5us818lopma foreign key (color) references product_color
alter table service_order add constraint FK_cfbgopme49suwpd927r64gs04 foreign key (customer) references customer
alter table service_order add constraint FK_cjdsxdqd3xpfkx7nmjay88vbk foreign key (family) references product_family
alter table service_order add constraint FK_thr25tusy9uxqmvjrmbq4nsyt foreign key (subfamily) references product_sub_family
alter table service_order_accesories add constraint FK_b0bwn4i7xp11xu5viuwrjauhh foreign key (accesories) references accesories
alter table service_order_accesories add constraint FK_69wtyn8j0tkf3cv70qfw6pi1m foreign key (service_order) references service_order
alter table service_order_cosmetic_state add constraint FK_rfhao2by42sjy7bocn4kq60qu foreign key (cosmetic_state) references product_cosmetic_state
alter table service_order_cosmetic_state add constraint FK_exfcy2tpm7jsnyyn3otidvfo foreign key (service_order) references service_order
alter table service_order_failures add constraint FK_ghlogr1i5n7j5v7mes9x3l9sv foreign key (failures) references possible_failures
alter table service_order_failures add constraint FK_17lxsxtkjhfl2vjg92vt5yfia foreign key (service_order) references service_order
